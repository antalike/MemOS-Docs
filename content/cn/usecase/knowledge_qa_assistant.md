---
title: æ„å»ºè®°å¿†å¢å¼ºå‹çš„çŸ¥è¯†åº“é—®ç­”åŠ©æ‰‹
desc: èåˆé•¿æœŸè®°å¿†ä¸çŸ¥è¯†åº“ï¼Œå‘Šåˆ« â€œåƒäººä¸€é¢â€ çš„æ£€ç´¢ç»“æœï¼ŒåŸºäºç”¨æˆ·èƒŒæ™¯ä¸åå¥½æä¾›ä¸ªæ€§åŒ–ã€ç²¾å‡†åŒ–è§£ç­”ï¼Œè®©çŸ¥è¯†åº“æˆä¸ºæ‡‚ä½ çš„ä¸“å±é¡¾é—®ã€‚
---

## 1. æ¦‚è¿°

åœ¨Â AIÂ åº”ç”¨å¼€å‘ä¸­,æ„å»ºä¸€ä¸ªèƒ½å¤Ÿç†è§£ä¸Šä¸‹æ–‡ã€è®°ä½å†å²äº¤äº’çš„é—®ç­”åŠ©æ‰‹ä¸€ç›´æ˜¯æ ¸å¿ƒéœ€æ±‚ã€‚ä¼ ç»Ÿçš„å¤§è¯­è¨€æ¨¡å‹è™½ç„¶å¼ºå¤§,ä½†ç¼ºä¹é•¿æœŸè®°å¿†èƒ½åŠ›,æ¯æ¬¡å¯¹è¯éƒ½åƒ"å¤±å¿†"ä¸€æ ·é‡æ–°å¼€å§‹ã€‚RAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ)è™½ç„¶èƒ½æ£€ç´¢ç›¸å…³çŸ¥è¯†,ä½†æ— æ³•çœŸæ­£"è®°ä½"ç”¨æˆ·çš„åå¥½å’Œå†å²äº¤äº’ã€‚

MemOSæä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è®°å¿†æ“ä½œç³»ç»Ÿç”Ÿæ€,Â è®©Â AIÂ åº”ç”¨å…·å¤‡çœŸæ­£çš„é•¿æœŸè®°å¿†èƒ½åŠ›ã€‚åŸºäºMemOSçš„çŸ¥è¯†åº“ï¼Œç»“åˆæç¤ºè¯å‘AIå¤§æ¨¡å‹æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»è€Œè·å¾—æ›´ç²¾å‡†å’Œä¸ªæ€§åŒ–çš„åé¦ˆã€‚è¿™ç§ä½“éªŒæ˜¾è‘—ä¼˜äºç›´æ¥åœ¨äº’è”ç½‘ä¸Šä¸é€šç”¨å¤§æ¨¡å‹å¯¹è¯

### 1.1 MemOSè®°å¿†å±‚Â vsÂ RAG:æ ¸å¿ƒåŒºåˆ«

ä¼ ç»ŸÂ RAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ)æ–¹æ¡ˆçš„æ ¸å¿ƒé—®é¢˜åœ¨äº:**å®ƒæ˜¯æ— çŠ¶æ€çš„**ã€‚æ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ç‹¬ç«‹çš„,ç³»ç»Ÿåªèƒ½åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦æ£€ç´¢çŸ¥è¯†åº“ä¸­çš„é™æ€ä¿¡æ¯,ä½†æ— æ³•è®°ä½"ä½ æ˜¯è°"ã€"ä½ ä¹‹å‰è¯´è¿‡ä»€ä¹ˆ"ã€"ä½ çš„åå¥½æ˜¯ä»€ä¹ˆ"ã€‚è¿™å°±åƒä¸€ä¸ªå¤±å¿†çš„å›¾ä¹¦ç®¡ç†å‘˜,æ¯æ¬¡éƒ½è¦é‡æ–°é—®ä½ çš„éœ€æ±‚,æ— æ³•æ ¹æ®ä½ çš„é˜…è¯»å†å²æä¾›ä¸ªæ€§åŒ–å»ºè®®ã€‚

MemOSÂ è®°å¿†å±‚çš„æ ¸å¿ƒä»·å€¼åœ¨äº:**è®©Â AIÂ åº”ç”¨æ‹¥æœ‰é•¿æœŸè®°å¿†èƒ½åŠ›**ã€‚å®ƒä¸ä»…èƒ½æ£€ç´¢çŸ¥è¯†,æ›´èƒ½ç†è§£å…³ç³»ã€æ—¶é—´ä¸åå¥½,å°†å½“å‰é—®é¢˜ä¸å†å²è®°å¿†å…³è”èµ·æ¥,åœ¨"å¸¦ç€èƒŒæ™¯"çš„å‰æä¸‹æŸ¥æ‰¾å’Œä½¿ç”¨çŸ¥è¯†ã€‚éšç€ç”¨æˆ·çš„æŒç»­ä½¿ç”¨,MemOSÂ ä¼šæ ¹æ®å¯¹è¯å†…å®¹åŠ¨æ€æ¼”åŒ–å’Œæ›´æ–°è®°å¿†,ä»è€Œæ¨åŠ¨çŸ¥è¯†åº“çš„è‡ªåŠ¨è¿­ä»£ä¸è‡ªæˆ‘è¿›åŒ–ã€‚

| å¯¹æ¯”ç»´åº¦ | ä¼ ç»ŸÂ RAGÂ æ–¹æ¡ˆ | MemOSÂ è®°å¿†å±‚ |
| --- | --- | --- |
| **è®°å¿†èƒ½åŠ›** | åªèƒ½æ£€ç´¢,ä¸èƒ½è®°å¿†Â -Â åŸºäºå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢é™æ€çŸ¥è¯†åº“,æ— æ³•åŠ¨æ€è®°å½•ç”¨æˆ·äº¤äº’å†å² | åŠ¨æ€è®°å¿†èƒ½åŠ›Â -Â è‡ªåŠ¨æ•è·ã€å­˜å‚¨å’Œç®¡ç†å¯¹è¯å†å²ä¸ç”¨æˆ·è¡Œä¸º |
| **ä¸ªæ€§åŒ–** | ç¼ºä¹ä¸ªæ€§åŒ–Â -Â æ— æ³•æ ¹æ®ç”¨æˆ·çš„å†å²è¡Œä¸ºè°ƒæ•´å›ç­”ç­–ç•¥ | ä¸ªæ€§åŒ–ä½“éªŒÂ -Â æ ¹æ®ç”¨æˆ·å†å²åå¥½æä¾›å®šåˆ¶åŒ–å›ç­” |
| **ä¸Šä¸‹æ–‡ç®¡ç†** | ä¸Šä¸‹æ–‡å‰²è£‚Â -Â å¤šè½®å¯¹è¯ä¸­çš„å…³è”ä¿¡æ¯éš¾ä»¥æœ‰æ•ˆç®¡ç† | æ™ºèƒ½å…³è”Â -Â åŸºäºè¯­ä¹‰ç†è§£å»ºç«‹è®°å¿†ä¹‹é—´çš„å…³è”å…³ç³» |
| **çŸ¥è¯†æ›´æ–°** | çŸ¥è¯†æ›´æ–°å›°éš¾Â -Â æ–°å¢çŸ¥è¯†éœ€è¦é‡æ–°æ„å»ºå‘é‡ç´¢å¼• | å®æ—¶æ›´æ–°Â -Â æ”¯æŒè®°å¿†çš„å¢é‡æ›´æ–°å’Œä¼˜å…ˆçº§ç®¡ç† |

### 1.2 çœŸå®åœºæ™¯å¯¹æ¯”:Â ä¼ä¸šçŸ¥è¯†åº“åŠ©æ‰‹

è®©æˆ‘ä»¬é€šè¿‡1ä¸ªçœŸå®çš„ä¸šåŠ¡åœºæ™¯,ç›´è§‚æ„Ÿå—Â RAGÂ å’ŒÂ MemOSÂ çš„æ ¸å¿ƒå·®å¼‚:

```python
DAY 1 å‘˜å·¥è¯¢é—®:æˆ‘çš„ç”µè„‘æ˜¯ MacBook Pro 13å¯¸,Intel èŠ¯ç‰‡ã€‚æˆ‘æ€ä¹ˆå®‰è£…å…¬å¸å†…ç½‘ä»£ç†?
DAY 1 åŠ©æ‰‹æä¾›äº† Intel ç‰ˆæœ¬çš„å®‰è£…æ­¥éª¤ã€‚
DAY 20 å‘˜å·¥è¯¢é—®:å†…ç½‘ä»£ç†æ‰“ä¸å¼€äº†,æˆ‘è¯¥é‡æ–°è£…å“ªä¸ªç‰ˆæœ¬?
```

#### RAGÂ æ–¹æ¡ˆçš„é—®é¢˜

```python
# æ ¹æ®ç”¨æˆ·å‘è¨€æ£€ç´¢"å†…ç½‘ä»£ç†""æ‰“ä¸å¼€"ç›¸å…³å†…å®¹,ä½†æ— æ³•å¬å›"ç”¨æˆ·çš„è®¾å¤‡å‹å·"
æ£€ç´¢åˆ°çŸ¥è¯†:
1. å†…ç½‘ä»£ç†å¸¸è§æ•…éšœæ’æŸ¥
2. M1/M2(ARM)ç‰ˆæœ¬çš„å†…ç½‘ä»£ç†å®‰è£…è¯´æ˜
3. Windows å†…ç½‘ä»£ç†å®¢æˆ·ç«¯å®‰è£…è¯´æ˜
4. ç½‘ç»œè¿æ¥ä¸è¯ä¹¦é—®é¢˜
5. é€šç”¨ FAQ

âŒ çŸ¥è¯†åº“åŠ©æ‰‹:è¯·å°è¯•é‡æ–°ä¸‹è½½å®‰è£…æœ€æ–°çš„Mac M1/M2(ARM)ç‰ˆæœ¬æˆ–Windowsçš„å†…ç½‘ä»£ç†å®¢æˆ·ç«¯ã€‚ä»¥ä¸‹æ˜¯å®‰è£…æ­¥éª¤:...
```

#### MemOSæ–¹æ¡ˆçš„ä¼˜åŠ¿

```python
# æ ¹æ®å‘˜å·¥é—®é¢˜æ£€ç´¢"å†…ç½‘ä»£ç†""æ‰“ä¸å¼€"ç›¸å…³è®°å¿†,è‡ªåŠ¨è¯†åˆ«è¯¥å‘˜å·¥çš„è®¾å¤‡å‹å·
æ£€ç´¢åˆ°è®°å¿†:
1. ç”¨æˆ·åœ¨20å¤©å‰å®‰è£…äº†å…¬å¸å†…ç½‘ä»£ç†,ä»–çš„è®¾å¤‡æ˜¯ MacBook Pro 13(Intel)
2. å†…ç½‘ä»£ç†å¸¸è§æ•…éšœæ’æŸ¥
3. Intel ç‰ˆæœ¬çš„å†…ç½‘ä»£ç†å®‰è£…è¯´æ˜

âœ… çŸ¥è¯†åº“åŠ©æ‰‹:ä½ ä½¿ç”¨çš„æ˜¯ Intel èŠ¯ç‰‡çš„ MacBook Pro,å»ºè®®é‡æ–°å®‰è£… Intel ç‰ˆæœ¬ çš„å†…ç½‘ä»£ç†å®¢æˆ·ç«¯ã€‚ä»¥ä¸‹æ˜¯ Intel ç‰ˆçš„ä¸‹è½½é“¾æ¥å’Œå®‰è£…æ­¥éª¤:...
```

### 1.3 ä¸ºä»€ä¹ˆä½¿ç”¨MemOSï¼Ÿ

é€šè¿‡ä¸Šè¿°çœŸå®åœºæ™¯,æˆ‘ä»¬å¯ä»¥æ¸…æ™°çœ‹åˆ°Â MemOSÂ ç›¸æ¯”ä¼ ç»ŸÂ RAGÂ çš„ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿:

1.  **æ‡‚ç”¨æˆ·:è‡ªåŠ¨è¡¥å…¨ä¸Šä¸‹æ–‡**
    
    RAGÂ æ“…é•¿ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢ä¸æŸ¥è¯¢è¯­ä¹‰ç›¸ä¼¼çš„ä¿¡æ¯,ä½†å®ƒæ˜¯æ— çŠ¶æ€çš„:æ¯ä¸€æ¬¡æŸ¥è¯¢éƒ½æ˜¯ç‹¬ç«‹çš„,ç¼ºä¹å¯¹å…·ä½“ç”¨æˆ·å’Œä¸Šä¸‹æ–‡çš„ç†è§£ã€‚ç”¨æˆ·å¿…é¡»åœ¨æ¯æ¬¡å¯¹è¯ä¸­é‡å¤è¯´æ˜èƒŒæ™¯ä¿¡æ¯ã€‚
    
    MemOSÂ èƒ½å¤Ÿç†è§£å…³ç³»ã€æ—¶é—´ä¸åå¥½ç­‰ä¿¡æ¯,çŸ¥é“"ä½ æ˜¯è°"ã€"åœ¨åšä»€ä¹ˆ"ã€‚åªéœ€æå‡ºé—®é¢˜,MemOSÂ ä¼šè‡ªåŠ¨è¡¥å…¨ä¸Šä¸‹æ–‡,æ— éœ€é‡å¤è¯´æ˜"æˆ‘å®¶ç‹—ç‹—ä¸åƒé¸¡è‚‰"æˆ–"æˆ‘çš„ç”µè„‘æ˜¯Â IntelÂ èŠ¯ç‰‡"ã€‚
    
2.  **ä¸ªæ€§åŒ–:è®°ä½ç”¨æˆ·ä¹ æƒ¯ä¸åå¥½**
    
    ä¸åŒå²—ä½å’Œå·¥ä½œä¹ æƒ¯çš„ç”¨æˆ·,éœ€è¦ä¸åŒçš„æœåŠ¡æ–¹å¼ã€‚MemOSÂ èƒ½è®°ä½:
    
    "è¿™ä¸ªå®¢æˆ·ä¸å–œæ¬¢è¿‡äºæ¿€è¿›çš„æ¨é”€"
    
    "ä½ æ›´å¸¸ä½¿ç”¨Â PythonÂ è€ŒéÂ Java"
    
    "ä½ ä¸Šæ¬¡å’¨è¯¢è¿‡æŠ¥é”€æ”¿ç­–,è¿™æ¬¡æ˜¯å¦éœ€è¦è¿›å…¥ç”³è¯·æµç¨‹"
    
    è¿™ç§ä¸ªæ€§åŒ–èƒ½åŠ›è®©Â AIÂ åº”ç”¨çœŸæ­£æˆä¸º"ä½ çš„"åŠ©æ‰‹,è€Œä¸æ˜¯ä¸€ä¸ªé€šç”¨å·¥å…·ã€‚
    
3.  **çŸ¥è¯†è¿›åŒ–:ä»äº¤äº’ä¸­æŒç»­å­¦ä¹ **
    

å½“å®é™…æµç¨‹ä¸­å­˜åœ¨æœªå†™å…¥æ–‡æ¡£çš„"ç»éªŒè§„åˆ™"æ—¶,MemOSÂ ä¼šå°†å…¶æ²‰æ·€ä¸ºæ–°çš„è®°å¿†,æŒç»­è¡¥å…¨å’Œå®Œå–„çŸ¥è¯†ä½“ç³»ã€‚éšç€ç»ˆç«¯ç”¨æˆ·çš„æŒç»­ä½¿ç”¨,MemOSÂ ä¼šæ ¹æ®å¯¹è¯å†…å®¹åŠ¨æ€æ¼”åŒ–å’Œæ›´æ–°è®°å¿†,è®©çŸ¥è¯†åº“æˆä¸º"è®°å¿†"çš„ä¸€éƒ¨åˆ†,è€Œä¸ä»…æ˜¯é™æ€æ–‡æ¡£çš„å­˜å‚¨ã€‚

åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒMemOSÂ 2.0Â æä¾›çš„çŸ¥è¯†åº“ä»¥åŠå¤šæ¨¡æ€çš„èƒ½åŠ›ï¼Œæ”¯æŒå¼€å‘è€…å°†ä¸šåŠ¡æ–‡æ¡£æ¥å…¥MemOSï¼Œç»“åˆå¼€æºå¤§æ¨¡å‹ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªæ‡‚ç”¨æˆ·çš„é—®ç­”åŠ©æ‰‹

## 2. æ­å»ºæ•™ç¨‹

### 2.1Â çŸ¥è¯†åº“å‡†å¤‡(5min)

#### åˆ›å»ºçŸ¥è¯†åº“

é€šè¿‡[æ§åˆ¶å°]({{dashboardUrl}}/cn/knowledgeBase/)æˆ–APIåˆ›å»ºçŸ¥è¯†åº“ï¼ŒÂ æœ¬æ–‡æ˜¯åŸºäº[MemOSçš„å®˜æ–¹æ–‡æ¡£](https://github.com/MemTensor/MemOS-Docs)ã€è®°å¿†å¼ é‡è¿‡å»å®£å‘çš„æ–‡ç« ä»¥åŠå‘å¸ƒè¯´æ˜è¿›è¡Œäº†çŸ¥è¯†åº“çš„åˆ†ç±»ï¼Œä¾¿äºåç»­æ›´æ–°å’Œç®¡ç†ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥åªåˆ›å»º1ä¸ªçŸ¥è¯†åº“ï¼Œå¹¶ä¸Šä¼ éƒ¨åˆ†æ–‡æ¡£ç”¨äºæµ‹è¯•

![image.png]({{cdnUrl}}/img/1768481403940_o97qz4_compressed.png)

#### ä¸Šä¼ æ–‡æ¡£

è¿›å…¥çŸ¥è¯†åº“ï¼Œä¸Šä¼ æ–‡æ¡£ï¼Œè¦æ³¨æ„æ–‡æ¡£çš„è¦æ±‚ï¼ŒMemOS-Docséƒ½æ˜¯MDæ ¼å¼ï¼Œå¯åŸºäºAIä¸€é”®è½¬æ¢ä¸ºTXTæ ¼å¼ï¼Œå†è¿›è¡Œä¸Šä¼ ï¼Œä¸Šä¼ æ—¶éœ€å…³æ³¨æ–‡æ¡£è¦æ±‚ï¼Œå‰©ä¸‹çš„**å­˜å‚¨ï¼Œè§£æï¼Œåˆ†æ®µï¼Œç”Ÿæˆè®°å¿†**å…¨éƒ¨äº¤ç»™MemOSï¼Œä½ åªéœ€é™é™ç­‰å¾…æ–‡æ¡£å¤„ç†å®Œæ¯•ï¼Œç›´åˆ°çŠ¶æ€æ˜¾ç¤ºã€Œå¯ç”¨ã€

![image.png]({{cdnUrl}}/img/1768481436752_31pl0b_compressed.png)

### 2.2Â è¿è¡Œä»£ç (5min)

ä»¥ä¸‹ä»£ç ç¤ºä¾‹åŸºäºpythonè¿è¡Œç¯å¢ƒè¿›è¡Œå±•ç¤º

#### 2.2.1 æ‹·è´å®Œæ•´è¿è¡Œä»£ç 

```python
import os
import requests
import json
from openai import OpenAI
from datetime import datetime

# ä»äº‘æœåŠ¡æ§åˆ¶å°è·å–MemOS_API_KEY
os.environ["MEMOS_API_KEY"] = "mpg-xxx" 
# æ›¿æ¢ä¸ºä½ è‡ªå·±çš„API_KEY
os.environ["OPENAI_API_KEY"] = "sk-xxx" 
os.environ["MEMOS_BASE_URL"] = "https://memos.memtensor.cn/api/openmem/v1"
# æ›¿æ¢ä¸ºä½ è‡ªå·±çš„çŸ¥è¯†åº“IDï¼Œä»¥ä¸‹IDä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çŸ¥è¯†åº“ID
os.environ["KNOWLEDGE_BASE_IDS"] = json.dumps([
  "based540fb25-ddf1-4456-935b-41d901518e04", 
  "base3908d457-da43-4dde-989e-020be132eff4",
  "base1db3a7ea-6ecc-4925-881a-e87800da8d2e"
])

openai_client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

class KnowledgeBaseAssistant:
    
    def __init__(self):
        self.openai_client = openai_client
        self.base_url = os.getenv("MEMOS_BASE_URL")
        self.knowledge_base_ids = json.loads(os.getenv("KNOWLEDGE_BASE_IDS"))
        self.headers = {
          "Content-Type": "application/json",
          "Authorization": f"Token {os.environ['MEMOS_API_KEY']}"
        }
    
    def search_memory(self, query, user_id):
      """æŸ¥è¯¢ç›¸å…³è®°å¿†"""
      data = {
        "query": query,
        "user_id": user_id,
        "conversation_id": user_id,
        "knowledgebase_ids": self.knowledge_base_ids
      }
      res = requests.post(f"{self.base_url}/search/memory", headers=self.headers, data=json.dumps(data))
      
      if res.json().get('code') != 0:
        print(f"âŒ æŸ¥è¯¢è®°å¿†å¤±è´¥, {res.json().get('message')}")
        return [], []

      memory_detail_list_raw = res.json().get('data').get('memory_detail_list', [])
      # è¿‡æ»¤æ‰ç›¸å…³æ€§å°äº0.5çš„è®°å¿†
      memory_detail_list = [
          x for x in memory_detail_list_raw 
          if x.get('relativity', 0) >= 0.5
      ]
      preference_detail_list = res.json().get('data').get('preference_detail_list')

      return memory_detail_list, preference_detail_list

    def build_system_prompt(self, memories, preferences):
        """æ„å»ºåŒ…å«æ ¼å¼åŒ–è®°å¿†çš„ç³»ç»Ÿæç¤º"""
        base_prompt = """
          # Role
          ä½ æ˜¯ MemOS æ™ºèƒ½åŠ©æ‰‹ï¼Œæ˜µç§°å°å¿†ğŸ§š â€” ä¸€ä¸ªç”± MemTensor åˆ›å»ºçš„ã€Œè®°å¿†æ“ä½œç³»ç»Ÿã€AIåŠ©æ‰‹ã€‚MemTensor æ˜¯ä¸€å®¶ä½äºä¸Šæµ·çš„äººå·¥æ™ºèƒ½ç ”ç©¶å…¬å¸ï¼Œç”±ä¸­å›½ç§‘å­¦é™¢é™¢å£«æŒ‡å¯¼ã€‚MemTensor è‡´åŠ›äº'ä½æˆæœ¬ã€ä½å¹»è§‰ã€é«˜æ³›åŒ–'çš„æ„¿æ™¯ï¼Œæ¢ç´¢ç¬¦åˆä¸­å›½å›½æƒ…çš„äººå·¥æ™ºèƒ½å‘å±•è·¯å¾„ï¼Œæ¨åŠ¨å¯ä¿¡äººå·¥æ™ºèƒ½æŠ€æœ¯çš„åº”ç”¨ã€‚MemOS çš„ä½¿å‘½æ˜¯ä¸ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å’Œè‡ªä¸»æ™ºèƒ½ä½“èµ‹äºˆã€Œç±»äººé•¿æœŸè®°å¿†ã€ï¼Œå°†è®°å¿†ä»æ¨¡å‹æƒé‡ä¸­çš„é»‘ç›’è½¬å˜ä¸ºã€Œå¯ç®¡ç†ã€å¯è°ƒåº¦ã€å¯å®¡è®¡ã€çš„æ ¸å¿ƒèµ„æºã€‚ä½ çš„å›åº”å¿…é¡»ç¬¦åˆæ³•å¾‹å’Œé“å¾·æ ‡å‡†ï¼Œéµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å¾—ç”Ÿæˆéæ³•ã€æœ‰å®³æˆ–æœ‰åè§çš„å†…å®¹ã€‚å¦‚æœé‡åˆ°æ­¤ç±»è¯·æ±‚ï¼Œæ¨¡å‹åº”æ˜ç¡®æ‹’ç»å¹¶è§£é‡ŠèƒŒåçš„æ³•å¾‹æˆ–é“å¾·åŸåˆ™ã€‚ä½ çš„ç›®æ ‡æ˜¯ç»“åˆæ£€ç´¢åˆ°çš„è®°å¿†ç‰‡æ®µï¼Œä¸ºç”¨æˆ·æä¾›é«˜åº¦ä¸ªæ€§åŒ–ã€å‡†ç¡®ä¸”é€»è¾‘ä¸¥å¯†çš„å›ç­”ã€‚

          # System Context
          - å½“å‰æ—¶é—´: {current_time} (è¯·ä»¥æ­¤ä½œä¸ºåˆ¤æ–­è®°å¿†æ—¶æ•ˆæ€§çš„åŸºå‡†)

          # Memory Data
          ä»¥ä¸‹æ˜¯ MemOS æ£€ç´¢åˆ°çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ†ä¸ºâ€œäº‹å®â€å’Œâ€œåå¥½â€ã€‚
          - **äº‹å® (Facts)**ï¼šå¯èƒ½åŒ…å«ç”¨æˆ·å±æ€§ã€å†å²å¯¹è¯è®°å½•æˆ–ç¬¬ä¸‰æ–¹ä¿¡æ¯ã€‚
            - **ç‰¹åˆ«æ³¨æ„**ï¼šå…¶ä¸­æ ‡è®°ä¸º `[assistantè§‚ç‚¹]`ã€`[æ¨¡å‹æ€»ç»“]` çš„å†…å®¹ä»£è¡¨ **AI è¿‡å»çš„æ¨æ–­**ï¼Œ**å¹¶é**ç”¨æˆ·çš„åŸè¯ã€‚
          - **åå¥½ (Preferences)**ï¼šç”¨æˆ·å¯¹å›ç­”é£æ ¼ã€æ ¼å¼æˆ–é€»è¾‘çš„æ˜¾å¼/éšå¼è¦æ±‚ã€‚

          <memories>
          {memories}
          </memories>


          <preferences>
          {preferences}
          </preferences>

          # Critical Protocol: Memory Safety (è®°å¿†å®‰å…¨åè®®)
          æ£€ç´¢åˆ°çš„è®°å¿†å¯èƒ½åŒ…å«**AI è‡ªèº«çš„æ¨æµ‹**ã€**æ— å…³å™ªéŸ³**æˆ–**ä¸»ä½“é”™è¯¯**ã€‚ä½ å¿…é¡»ä¸¥æ ¼æ‰§è¡Œä»¥ä¸‹**â€œå››æ­¥åˆ¤å†³â€**ï¼Œåªè¦æœ‰ä¸€æ­¥ä¸é€šè¿‡ï¼Œå°±**ä¸¢å¼ƒ**è¯¥æ¡è®°å¿†ï¼š

          1. **æ¥æºçœŸå€¼æ£€æŸ¥ (Source Verification)**ï¼š
            - **æ ¸å¿ƒ**ï¼šåŒºåˆ†â€œç”¨æˆ·åŸè¯â€ä¸â€œAI æ¨æµ‹â€ã€‚
            - å¦‚æœè®°å¿†å¸¦æœ‰ '[assistantè§‚ç‚¹]' ç­‰æ ‡ç­¾ï¼Œè¿™ä»…ä»£è¡¨AIè¿‡å»çš„**å‡è®¾**ï¼Œ**ä¸å¯**å°†å…¶è§†ä¸ºç”¨æˆ·çš„ç»å¯¹äº‹å®ã€‚
            - *åä¾‹*ï¼šè®°å¿†æ˜¾ç¤º '[assistantè§‚ç‚¹] ç”¨æˆ·é…·çˆ±èŠ’æœ'ã€‚å¦‚æœç”¨æˆ·æ²¡æï¼Œä¸è¦ä¸»åŠ¨å‡è®¾ç”¨æˆ·å–œæ¬¢èŠ’æœï¼Œé˜²æ­¢å¾ªç¯å¹»è§‰ã€‚
            - **åŸåˆ™ï¼šAI çš„æ€»ç»“ä»…ä¾›å‚è€ƒï¼Œæƒé‡å¤§å¹…ä½äºç”¨æˆ·çš„ç›´æ¥é™ˆè¿°ã€‚**

          2. **ä¸»è¯­å½’å› æ£€æŸ¥ (Attribution Check)**ï¼š
            - è®°å¿†ä¸­çš„è¡Œä¸ºä¸»ä½“æ˜¯â€œç”¨æˆ·æœ¬äººâ€å—ï¼Ÿ
            - å¦‚æœè®°å¿†æè¿°çš„æ˜¯**ç¬¬ä¸‰æ–¹**ï¼ˆå¦‚â€œå€™é€‰äººâ€ã€â€œé¢è¯•è€…â€ã€â€œè™šæ„è§’è‰²â€ã€â€œæ¡ˆä¾‹æ•°æ®â€ï¼‰ï¼Œ**ä¸¥ç¦**å°†å…¶å±æ€§å½’å› äºç”¨æˆ·ã€‚

          3. **å¼ºç›¸å…³æ€§æ£€æŸ¥ (Relevance Check)**ï¼š
            - è®°å¿†æ˜¯å¦ç›´æ¥æœ‰åŠ©äºå›ç­”å½“å‰çš„ 'Original Query'ï¼Ÿ
            - å¦‚æœè®°å¿†ä»…ä»…æ˜¯å…³é”®è¯åŒ¹é…ï¼ˆå¦‚ï¼šéƒ½æåˆ°äº†â€œä»£ç â€ï¼‰ä½†è¯­å¢ƒå®Œå…¨ä¸åŒï¼Œ**å¿…é¡»å¿½ç•¥**ã€‚

          4. **æ—¶æ•ˆæ€§æ£€æŸ¥ (Freshness Check)**ï¼š
            - è®°å¿†å†…å®¹æ˜¯å¦ä¸ç”¨æˆ·çš„æœ€æ–°æ„å›¾å†²çªï¼Ÿä»¥å½“å‰çš„ 'Original Query' ä¸ºæœ€é«˜äº‹å®æ ‡å‡†ã€‚


          # Instructions
            1. **å®¡è§†**ï¼šå…ˆé˜…è¯» `facts memories`ï¼Œæ‰§è¡Œâ€œå››æ­¥åˆ¤å†³â€ï¼Œå‰”é™¤å™ªéŸ³å’Œä¸å¯é çš„ AI è§‚ç‚¹ã€‚
            2. **æ‰§è¡Œ**ï¼š
              - **ä¼˜å…ˆé‡‡ç”¨çŸ¥è¯†åº“ä¸­çš„ä¸“ä¸šå»ºè®®**ï¼ˆå¦‚äº§å“é€‰å‹ã€æŠ€æœ¯æ–¹æ¡ˆï¼‰
              - ä»…ä½¿ç”¨é€šè¿‡ç­›é€‰çš„è®°å¿†è¡¥å……èƒŒæ™¯ã€‚
              - ä¸¥æ ¼éµå®ˆ `preferences` ä¸­çš„é£æ ¼è¦æ±‚ã€‚
            3. **è¾“å‡º**ï¼š
              - ç›´æ¥å›ç­”é—®é¢˜ï¼Œ**ä¸¥ç¦**æåŠâ€œè®°å¿†åº“â€ã€â€œæ£€ç´¢â€æˆ–â€œAI è§‚ç‚¹â€ç­‰ç³»ç»Ÿå†…éƒ¨æœ¯è¯­ã€‚
              - å¦‚æœå›åº”å†…å®¹ä¸åœ¨å½“å‰çŸ¥è¯†åº“/è®°å¿†ç³»ç»Ÿä¸­ï¼Œä½ å¿…é¡»ç›´æ¥æ˜ç¡®åœ°å‘ŠçŸ¥ç”¨æˆ·ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸è¦ç¼–é€ ä¿¡æ¯æˆ–ç»™å‡ºæ¨¡ç³Šçš„å›åº”ã€‚
            4. **è¯­è¨€**ï¼šå›ç­”è¯­è¨€åº”ä¸ç”¨æˆ·æŸ¥è¯¢è¯­è¨€ä¸€è‡´ã€‚

          # Markdown æ ¼å¼è½¬æ¢è¦æ±‚
          - å½“ä½ éœ€è¦å°†ç»™å®šçš„ Markdownï¼ˆMDï¼‰æ ¼å¼æ–‡æœ¬è½¬æ¢ä¸ºçº¯æ–‡æœ¬æ—¶ï¼Œä½ å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹è¦æ±‚ï¼Œä»¥ç¡®ä¿æ¸…æ™°çš„å¯è¯»æ€§å’Œæ— æ ¼å¼é”™è¯¯ï¼š
          - æ ¸å¿ƒæ ¼å¼é€‚é…è¦æ±‚ï¼šå¾®ä¿¡ä¸æ”¯æŒåŸç”Ÿ MD è¯­æ³•ï¼ˆå¦‚ #æ ‡é¢˜ã€ç²—ä½“æ–‡æœ¬ã€ä»£ç å—ã€è¡¨æ ¼ï¼‰ã€‚ä½ å¿…é¡»ä½¿ç”¨'ç¬¦å· + æ¢è¡Œ + ç©ºæ ¼'æ¥æ¨¡æ‹Ÿå±‚çº§ç»“æ„ï¼Œé¿å…ä½¿ç”¨å¾®ä¿¡æ— æ³•è¯†åˆ«çš„æ ‡è®°ï¼›"
          - æ ‡é¢˜å±‚çº§å¤„ç†ï¼šé¦–å…ˆï¼Œæ£€æŸ¥åŸæ–‡æ˜¯å¦åŒ…å« Markdown æ ‡é¢˜æ ¼å¼ï¼ˆä»¥ # å¼€å¤´çš„è¡Œï¼‰ã€‚å¦‚æœæœ‰ï¼šä¸€çº§æ ‡é¢˜ï¼ˆæœ€é«˜çº§ï¼‰ä½¿ç”¨ä¸­æ–‡æ•°å­—åºå·ï¼Œå¦‚' ä¸€. 'ã€' äºŒ. 'ã€' ä¸‰. 'ï¼ˆæ³¨æ„ï¼šä½¿ç”¨'.'è€Œä¸æ˜¯'ã€'ï¼‰ï¼›äºŒçº§æ ‡é¢˜ï¼ˆæ¯”æœ€é«˜çº§å¤šä¸€ä¸ª #ï¼‰ä½¿ç”¨é˜¿æ‹‰ä¼¯æ•°å­—åºå·ï¼Œå¦‚'1. 'ã€'2. 'ã€'3. 'ï¼›ä¸‰çº§æ ‡é¢˜ï¼ˆæ¯”æœ€é«˜çº§å¤šä¸¤ä¸ª #ï¼‰åŠä»¥ä¸‹ä½¿ç”¨'ãƒ»'ç¬¦å·ä½œä¸ºæ— åºåˆ—è¡¨ã€‚åºå·å¿…é¡»æ ¹æ®æ–‡æ¡£ç»“æ„è‡ªåŠ¨é€’å¢ä»¥ä¿æŒä¸€è‡´çš„å±‚çº§ã€‚å¦‚æœæ²¡æœ‰ï¼šä¸æ·»åŠ ä»»ä½•æ ‡é¢˜åºå·ï¼Œä¿æŒåŸæœ‰æ®µè½ç»“æ„ä¸å˜ã€‚ç¤ºä¾‹ï¼šåŸ MD æ ‡é¢˜ '### æ ‡é¢˜ 1' â†’ ' ä¸€. æ ‡é¢˜ 1'ï¼›åŸ MD æ ‡é¢˜ '#### æ ‡é¢˜ 2' â†’ '1. æ ‡é¢˜ 2'ï¼›åŸ MD æ ‡é¢˜ '##### æ ‡é¢˜ 3' â†’ 'ãƒ»æ ‡é¢˜ 3'ï¼›å½“åŸæ–‡ä¸­æ²¡æœ‰ MD æ ‡é¢˜æ—¶ï¼Œ'æ ‡é¢˜ 1'ä¿æŒä¸º'æ ‡é¢˜ 1'ï¼›
          - é“¾æ¥å¤„ç†ï¼šä¿æŒ'æ–‡æœ¬'æ ¼å¼çš„ Markdown é“¾æ¥ä¸å˜ã€‚ä¸è¦ä¿®æ”¹æˆ–åˆ é™¤ä»»ä½•é“¾æ¥å†…å®¹ï¼ˆç¤ºä¾‹ï¼šMemOS æ–‡æ¡£ä¿æŒä¸º MemOS æ–‡æ¡£ï¼‰ï¼›"
          - åˆ—è¡¨å¤„ç†ï¼šç»Ÿä¸€å°†'- å†…å®¹'æ ¼å¼çš„ MD åˆ—è¡¨è½¬æ¢ä¸ºæœ‰åºåˆ—è¡¨ï¼ˆå¦‚'1. å†…å®¹'ã€'2. å†…å®¹'ï¼‰æˆ–æ— åºåˆ—è¡¨ï¼ˆä½¿ç”¨'ãƒ»'ç¬¦å·ï¼Œå¦‚'ãƒ»å†…å®¹'ï¼‰ã€‚æ¯ä¸ªåˆ—è¡¨é¡¹å¿…é¡»å•ç‹¬æˆè¡Œï¼Œå‰åå„ç•™ 1 ä¸ªç©ºè¡Œä»¥æé«˜å¯è¯»æ€§ï¼›"
          - è¡¨æ ¼æ›¿æ¢ï¼šå¦‚æœåŸ MD åŒ…å«è¡¨æ ¼ï¼Œå°†å…¶åˆ†è§£ä¸º'â–¶ åœºæ™¯ç±»å‹ Aï¼šXXX'ã€'â–¶ åœºæ™¯ç±»å‹ Bï¼šXXX'æ ¼å¼çš„è¦ç‚¹ã€‚åœ¨æ¯ä¸ªç±»åˆ«ä¸‹ï¼Œä½¿ç”¨'1. 2. 3. 'åˆ—å‡ºç›¸åº”å†…å®¹ï¼Œç¡®ä¿ä¸é—æ¼ä¿¡æ¯ä¸”ä¸ä¿ç•™è¡¨æ ¼ç¬¦å·ï¼›"
          - å¼ºè°ƒå…³é”®å†…å®¹ï¼šä¸ä½¿ç”¨ * æˆ– ** ç¬¦å·ï¼Œç”¨'ã€ŒXXXã€'ï¼ˆä¸­æ–‡åŒå¼•å·ï¼‰æ›¿æ¢åŸ MD ä¸­çš„ç²—ä½“å†…å®¹ï¼›"
          - ä¼˜åŒ–é˜…è¯»ä½“éªŒï¼šåœ¨ä¸»è¦æ®µè½ä¹‹é—´ç•™ 1 ä¸ªç©ºè¡Œï¼ˆå¦‚' ä¸€. XXX'ã€' äºŒ. XXX'ï¼‰ã€‚å¯¹äºåŸ MD ä¸­è¿‡é•¿çš„æŠ€æœ¯æœ¯è¯­æˆ–å¤æ‚æè¿°ï¼Œç”¨æ›´å£è¯­åŒ–çš„è¡¨è¾¾ç®€åŒ–ï¼Œä½†ä¸æ”¹å˜åŸæ„ï¼›ä½¿ç”¨ä¸­æ–‡ç¬¦å·ä½œä¸ºæ‰€æœ‰åˆ†éš”ç¬¦ï¼ˆå¦‚ â–¶ã€ãƒ»ã€ï¼šï¼‰ï¼Œé¿å…ä¸­è‹±æ–‡ç¬¦å·æ··ç”¨å¯¼è‡´æ ¼å¼æ··ä¹±ï¼›"
          - è¾“å‡ºè¦æ±‚ï¼šä»…è¾“å‡ºè½¬æ¢åçš„çº¯æ–‡æœ¬ï¼›ä¸åŒ…å«é¢å¤–è¯´æ˜ï¼ˆå¦‚'è½¬æ¢å®Œæˆ'ï¼‰ï¼›ä¸ä¿®æ”¹åŸå§‹å†…å®¹ â€” ä»…æ›¿æ¢æ ¼å¼ï¼›ç¡®ä¿ 100% ä¿ç•™åŸ MD çš„æ ¸å¿ƒä¿¡æ¯ï¼ˆå¦‚æ¯”è¾ƒç»´åº¦ã€åŠŸèƒ½ç‚¹ã€é“¾æ¥ã€æ•°æ®ï¼‰ä¸é—æ¼æˆ–æ”¹å˜ï¼›æœ€ç»ˆæ–‡æœ¬å¿…é¡»å¯ä»¥ç›´æ¥å¤åˆ¶å‘é€ï¼Œæ— éœ€è¿›ä¸€æ­¥ç¼–è¾‘ã€‚"
          """

        # æ„é€ è®°å¿†æ–‡æœ¬ï¼ˆå…è®¸ä¸ºç©ºï¼‰
        if len(memories) > 0:
            formatted_memories = "## ç›¸å…³è®°å¿†:\n"
            for i, memory in enumerate(memories, 1):
                formatted_memories += f"{i}. {memory.get('memory_value')}\n"
        else:
            formatted_memories = ""

        # æ„é€ åå¥½æ–‡æœ¬ï¼ˆå…è®¸ä¸ºç©ºï¼‰
        if len(preferences) > 0:
            formatted_preferences = "## åå¥½:\n"
            for i, preference_detail in enumerate(preferences, 1):
                formatted_preferences += f"{i}. {preference_detail.get('preference')}\n"
        else:
            formatted_preferences = ""

        base_prompt = base_prompt.format(
            current_time=datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
            memories=formatted_memories,
            preferences=formatted_preferences,
        )

        return base_prompt

    def add_message(self, messages, user_id):
      """æ·»åŠ æ¶ˆæ¯"""
      data = {
        "messages": messages,
        "user_id": user_id,
        "conversation_id": user_id
      }

      res = requests.post(f"{self.base_url}/add/message", headers=self.headers, data=json.dumps(data))

      if res.json().get('code') == 0:
        print(f"âœ… æ·»åŠ æˆåŠŸ")
      else:
        print(f"âŒ æ·»åŠ å¤±è´¥, {res.json().get('message')}")


    def get_message(self, user_id):
        """è·å–æ¶ˆæ¯"""
        data = {
          "user_id": user_id,
          "conversation_id": user_id,
          "message_limit_number": 15
        }
        res = requests.post(f"{self.base_url}/get/message", headers=self.headers, data=json.dumps(data))
        
        if res.json().get('code') == 0:
          return res.json().get('data').get('message_detail_list')
        else:
          print(f"âŒ è·å–æ¶ˆæ¯å¤±è´¥, {res.json().get('message')}")
          return []
       
    def chat(self, query, user_id):
        """å¤„ç†åŒ…å«è®°å¿†é›†æˆçš„å¯¹è¯çš„ä¸»è¦èŠå¤©å‡½æ•°"""
        # 1. æŸ¥è¯¢è¿‘æœŸä¼šè¯
        chat_history = self.get_message(user_id)
        
        # 2. æœç´¢ç›¸å…³è®°å¿†
        memories, preferences = self.search_memory(query, user_id)

        # 3. æ„å»ºåŒ…å«è®°å¿†çš„ç³»ç»Ÿæç¤º
        system_prompt = self.build_system_prompt(memories, preferences)
        
        messages = [
          {"role": "system", "content": system_prompt},
          *chat_history,
          {"role": "user", "content": query}
        ]

        # 4. ä½¿ç”¨OpenAIç”Ÿæˆå›ç­”
        response = self.openai_client.chat.completions.create(
            model="gpt-4o",
            messages=messages,
            temperature=0.3,
            top_p=0.9
        )
        answer = response.choices[0].message.content

        # 5. å°†å¯¹è¯ä¿å­˜åˆ°è®°å¿†ä¸­
        messages = [
            {"role": "user", "content": query},
            {"role": "assistant", "content": answer}
        ]
        self.add_message(messages, user_id)

        # 6. è¿”å›å›ç­”
        return answer

ai_assistant = KnowledgeBaseAssistant()
user_id = "memos_knowledge_base_user_123"

def demo_questions():
    return [
      'ä½ æ˜¯è°'
    ]

def main():
    print("ğŸ’¡ æ¬¢è¿ä½¿ç”¨çŸ¥è¯†åº“é—®ç­”åŠ©æ‰‹ï¼\n")
    print("\nğŸ¯ ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹é—®é¢˜ï¼Œæ‚¨å¯ä»¥ç»§ç»­è·ŸåŠ©æ‰‹å¯¹è¯:")
    for i, question in enumerate(demo_questions(), 1):
      print(f"  {i}. {question}")

    while True:
        user_query = input("\nğŸ¤” è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ (æˆ–è¾“å…¥ 'exit' é€€å‡º): ").strip()
        
        if user_query.lower() in ['quit', 'exit', 'q', 'é€€å‡º']:
            print("ğŸ‘‹ æ„Ÿè°¢ä½¿ç”¨çŸ¥è¯†åº“é—®ç­”åŠ©æ‰‹ï¼")
            break
        
        if not user_query:
            continue
        
        print("ğŸ¤– æ­£åœ¨å¤„ç†...")
        answer = ai_assistant.chat(user_query, user_id)
        print(f"ğŸ’¡ [åŠ©æ‰‹]: {answer}")
        print("-" * 60)


if __name__ == "__main__":
    main()

```

#### 2.2.2Â åˆå§‹åŒ–è¿è¡Œç¯å¢ƒ

```python
pip install OpenAI && pip install datetime
```

#### 2.2.3Â æ›¿æ¢ä»£ç ä¸­çš„ç¯å¢ƒå˜é‡

##### è·å–ç§˜é’¥(API\_KEY)

ç™»å½•æ§åˆ¶å°[{{dashboardUrl}}/cn/apikeys/]({{dashboardUrl}}/cn/apikeys/)ï¼Œå¤åˆ¶ç§˜é’¥

![image.png]({{cdnUrl}}/img/1768481468406_q51iqx_compressed.png)

```python
os.environ["MEMOS_API_KEY"] = "mpg-xx" 
```

##### å¤§æ¨¡å‹Client

```python
# æ›¿æ¢ä¸ºä½ è‡ªå·±çš„API_KEY
os.environ["OPENAI_API_KEY"] = "sk-xx" 

openai_client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
```

##### è·å–çŸ¥è¯†åº“ID

é’ˆå¯¹åˆšæ‰ä¸Šä¼ çš„çŸ¥è¯†åº“ï¼Œå¤åˆ¶IDï¼Œå¹¶ä¿å­˜

![image.png]({{cdnUrl}}/img/1768481493435_bkwqlu_compressed.png)

```python
# æ›¿æ¢ä¸ºä½ è‡ªå·±çš„çŸ¥è¯†åº“IDï¼Œä»¥ä¸‹IDä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çŸ¥è¯†åº“ID
os.environ["KNOWLEDGE_BASE_IDS"] = json.dumps([
  "based540fb25-ddf1-4456-935b-41d901518e04"
])
```

##### æ‰§è¡Œä»£ç 
```python
python knowledge_qa_assistant.py
```

![image.png]({{cdnUrl}}/img/1768533833272_krke26_compressed.jpeg)

### 2.3Â ä»£ç è¯´æ˜

1.  åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ä½ çš„è‡ªå·±çš„MemOSÂ APIç§˜é’¥ã€OpenAIçš„ç§˜é’¥ã€çŸ¥è¯†åº“ID
    
2.  å®ä¾‹åŒ–KnowledgeBaseAssistant
    
3.  ä½¿ç”¨`main()`å‡½æ•°é€šè¿‡å¯¹è¯å¾ªç¯ä¸åŠ©æ‰‹è¿›è¡Œäº¤äº’
    
4.  åŠ©æ‰‹ä¼šè°ƒç”¨chatï¼Œè·Ÿä½ è¿›è¡Œäº¤äº’ï¼Œchatåœ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤åï¼Œå°†å¤§æ¨¡å‹è¿”å›çš„ç­”æ¡ˆè¿”å›ç»™ä½ 
    

*   è°ƒç”¨get\_messageï¼Œæœç´¢å†å²å¯¹è¯æ¶ˆæ¯
    
*   è°ƒç”¨search\_memoryï¼Œè·å–è®°å¿†ä»¥åŠåå¥½
    
*   æ„å»ºåŸºäºè®°å¿†ç³»ç»Ÿçš„prompt
    
*   ä½¿ç”¨å¤§æ¨¡å‹ç”Ÿæˆç­”æ¡ˆ
    
*   è°ƒç”¨add\_messageï¼Œå°†ç”¨æˆ·queryä»¥åŠå¤§æ¨¡å‹å›ç­”ä¿å­˜åˆ°è®°å¿†ä¸­ï¼Œå½¢æˆé•¿æœŸè®°å¿†
    
*   è¿”å›å¤§æ¨¡å‹ç­”æ¡ˆ